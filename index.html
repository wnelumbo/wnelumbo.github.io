<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Lemora</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600&display=swap" rel="stylesheet">
<style>
  html,body{height:100%;margin:0}
  body{
    background:#1B0B2E;
    display:grid;
    place-items:center;
    color:#fff;
    overflow:hidden;
    font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif
  }
  #bg{position:fixed;inset:0;width:100%;height:100%;display:block}
  h1{
    position:relative;z-index:1;margin:0;
    font-weight:600;font-size:clamp(2rem,8vw,5rem);letter-spacing:2px;
    text-shadow:0 4px 20px rgba(0,0,0,.2)
  }
  @media (prefers-reduced-motion:reduce){
    #bg{animation:none}
  }
</style>
</head>
<body>
  <canvas id="bg" aria-hidden="true"></canvas>
  <h1>Lemora</h1>

<script>
(() => {
  const PERIOD_S = 12.0;

  const C = {
    c0: [0x1B,0x0B,0x2E],
    c1: [0x24,0x00,0x46],
    c2: [0x5A,0x18,0x9A],
    c3: [0x7C,0x3A,0xED],
    c4: [0xD0,0x00,0xA6],
    c5: [0xFF,0x2E,0x9A],
    white: [255,255,255]
  };

  const cnv = document.getElementById('bg');
  const ctx = cnv.getContext('2d', { alpha: false });

  let dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
  let w = 0, h = 0, cx = 0, cy = 0, diag = 0;

  function rs() {
    dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
    w = Math.floor(cnv.clientWidth  * dpr);
    h = Math.floor(cnv.clientHeight * dpr);
    cnv.width = w; cnv.height = h;
    cx = w * 0.5; cy = h * 0.5;
    diag = Math.hypot(w, h);
  }

  function mix(a,b,t){
    return [ a[0] + (b[0]-a[0])*t,
             a[1] + (b[1]-a[1])*t,
             a[2] + (b[2]-a[2])*t ];
  }
  const clamp = (x,lo,hi)=>Math.max(lo,Math.min(hi,x));
  const rgba = (rgb, a=1)=>`rgba(${rgb[0]|0},${rgb[1]|0},${rgb[2]|0},${clamp(a,0,1)})`;
  const loopSin = (u,phase)=>0.5*(1+Math.sin(2*Math.PI*(u+phase)));

  const noiseTile = (() => {
    const tw=64, th=64, density=0.08, baseA=16;
    const c = document.createElement('canvas'); c.width = tw; c.height = th;
    const x = c.getContext('2d');
    const img = x.createImageData(tw,th);
    const R = Math.random;
    for (let i=0;i<img.data.length;i+=4){
      if (R() < density) {
        img.data[i+0] = 255;
        img.data[i+1] = 255;
        img.data[i+2] = 255;
        img.data[i+3] = baseA + (R()*8|0);
      } else {
        img.data[i+3] = 0;
      }
    }
    x.putImageData(img,0,0);
    return ctx.createPattern(c,'repeat');
  })();

  let start = performance.now();
  let last = start;

  function frame(tNow){
    const dt = Math.min(40, Math.max(0, tNow - last)); last = tNow;
    const elapsed = (tNow - start) / 1000;
    const u = (elapsed / PERIOD_S) % 1;

    const s1 = loopSin(u, 0.00);
    const s2 = loopSin(u, 0.33);
    const b0 = mix(C.c0, C.c3, s1);
    const b1 = mix(C.c2, C.c1, s2);

    const lg = ctx.createLinearGradient(0,0,w,h);
    lg.addColorStop(0, rgba(b0, 1));
    lg.addColorStop(1, rgba(b1, 1));
    ctx.fillStyle = lg;
    ctx.fillRect(0,0,w,h);


    const rr = Math.max(110*dpr, Math.min(w,h)*0.85);

    const ax = cx + Math.cos(2*Math.PI*(1.0*u + 0.00)) * (w*0.23);
    const ay = cy + Math.sin(2*Math.PI*(2.0*u + 0.10)) * (h*0.22);
    let rgA = ctx.createRadialGradient(ax, ay, 0, ax, ay, rr);
    rgA.addColorStop(0, rgba(C.c5, 92/255));
    rgA.addColorStop(1, rgba(C.c5, 0));
    ctx.fillStyle = rgA;
    ctx.fillRect(0,0,w,h);

    const bx = cx + Math.cos(2*Math.PI*(3.0*u + 1/3)) * (w*0.27);
    const by = cy + Math.sin(2*Math.PI*(1.0*u + 0.25)) * (h*0.26);
    let rgB = ctx.createRadialGradient(bx, by, 0, bx, by, rr);
    rgB.addColorStop(0, rgba(C.c4, 90/255));
    rgB.addColorStop(1, rgba(C.c4, 0));
    ctx.fillStyle = rgB;
    ctx.fillRect(0,0,w,h);

    const fogR = diag * 0.9;
    let fog = ctx.createRadialGradient(cx, cy, 0, cx, cy, fogR);
    fog.addColorStop(0, rgba(C.white, 14/255));
    fog.addColorStop(1, rgba(C.white, 0));
    ctx.fillStyle = fog;
    ctx.fillRect(0,0,w,h);

    ctx.save();
    ctx.globalAlpha = 0.035;
    ctx.fillStyle = noiseTile;
    ctx.fillRect(0,0,w,h);
    ctx.restore();

    raf = requestAnimationFrame(frame);
  }

  rs();
  let raf = requestAnimationFrame(frame);
  addEventListener('resize', () => { rs(); });

  const mq = matchMedia('(prefers-reduced-motion: reduce)');
  mq.addEventListener?.('change', e=>{
    if(e.matches){ cancelAnimationFrame(raf); }
    else{ last = performance.now(); start = last; raf = requestAnimationFrame(frame); }
  });
  if(mq.matches){ cancelAnimationFrame(raf); }
})();
</script>
</body>
</html>
